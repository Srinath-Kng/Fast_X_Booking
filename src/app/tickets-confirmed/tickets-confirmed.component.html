<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Booking Confirmation</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts for elegant typography -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome for icons -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
      }

      .ticket-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
        background-color: #404241; /* Dark Grey Background */
        color: white;
        border-radius: 10px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      }

      .header {
        color: #17c3b2;
        text-align: center;
        margin-bottom: 20px;
      }

      .bus-info-header {
        color: #17c3b2;
        margin-top: 30px;
        text-align: center;
      }

      /* Labels Styling */
      p strong {
        color: #17c3b2; /* Green color for labels */
      }

      p {
        font-size: 1.1em;
        color: rgb(0, 0, 0); /* White text for details */
      }

      /* Button Styling */

      /* Responsive Design */
      @media (max-width: 768px) {
        .ticket-container {
          padding: 15px;
        }

        .Btn {
          font-size: 1em;
        }
      }

      .error-message {
        color: red;
        font-size: 1.1em;
        margin-bottom: 10px;
        text-align: center;
      }

      .loading {
        text-align: center;
        color: #17c3b2;
        font-size: 1.2em;
      }
    </style>
  </head>

  <body>
    <div class="ticket-container" *ngIf="!loading && bookingDetails">
      <div *ngIf="loading" class="loading">Loading...</div>
      <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

      <h2 class="header">Booking Confirmation</h2>

      <div id="ticket-content">
        <div class="passenger-details">
          <p>
            <strong>Passenger Name:</strong> {{ bookingDetails.passengerName }}
          </p>
          <p><strong>Age:</strong> {{ bookingDetails.age }}</p>
          <p><strong>Gender:</strong> {{ bookingDetails.gender }}</p>
          <p><strong>Seat Number:</strong> {{ bookingDetails.seatNumber }}</p>
        </div>

        <h3 class="bus-info-header">Bus Information</h3>
        <div class="bus-details">
          <p><strong>Bus Name:</strong> {{ bus?.busName }}</p>
          <p><strong>Bus Number:</strong> {{ bus?.busNumber }}</p>
          <p><strong>Bus Type:</strong> {{ bus?.busType }}</p>
          <p><strong>Origin:</strong> {{ bus?.origin }}</p>
          <p><strong>Destination:</strong> {{ bus?.destination }}</p>
          <p><strong>Fare:</strong> {{ bus?.fare }} Rupees</p>
          <p>
            <strong>Departure Date:</strong>
            {{ bus?.departureDate | date : "yyyy-MM-dd" }}
          </p>
          <p><strong>Start Time:</strong> {{ bus?.startTime }}</p>
          <p><strong>End Time:</strong> {{ bus?.endTime }}</p>
        </div>
      </div>

      <button class="Btn" (click)="downloadTicket()">
        <svg
          class="svgIcon"
          viewBox="0 0 384 512"
          height="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"
          ></path>
        </svg>
        <span class="icon2"></span>
      </button>
    </div>
  </body>
</html>
